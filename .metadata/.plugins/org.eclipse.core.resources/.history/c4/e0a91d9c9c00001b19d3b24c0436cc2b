<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%>
<%@ page language="java" import="java.sql.*" %>
<%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <base href="<%=basePath%>">
    
    <title>application对象方法获取web配置信息</title>
    
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
	<!--
	<link rel="stylesheet" type="text/css" href="styles.css">
	-->

  </head>
  <%
  	//从配置参数中获取驱动
  	String driver = application.getInitParameter("driver");
  	//从配置参数中获取数据库URL
  	String url = application.getInitParameter("url");
  	//从配置参数中获取用户名
  	String user = application.getInitParameter("user");
  	//从配置参数中获取密码
  	String pass = application.getInitParameter("pass");
  	//注册驱动
  	Class.forName(driver);
  	/*
  	 forName()方法：1、装载一个类并且对其进行实例化的操作（装载过程中的使用到的类加载器是当前类）
  	*/
  	//以下是JDBC相关语句
  	Connection conn = DriverManager.getConnection(url,user,pass);
  	//创建Statement对象
  	Statement stmt = conn.createStatement();
  	//执行查询
  	ResultSet rs = stmt.executeQuery("Select * from student");
  
   %>
  
  <body>
    此页面为测试还原源代码，因文件配置不同与数据库环境等原因，暂时无法运行。
  </body>
</html>
